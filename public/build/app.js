"use strict";
(self["webpackChunk"] = self["webpackChunk"] || []).push([["app"],{

/***/ "./assets/app.js":
/*!***********************!*\
  !*** ./assets/app.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/modules/es.array.for-each.js */ "./node_modules/core-js/modules/es.array.for-each.js");
/* harmony import */ var core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/modules/es.object.to-string.js */ "./node_modules/core-js/modules/es.object.to-string.js");
/* harmony import */ var core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/modules/web.dom-collections.for-each.js */ "./node_modules/core-js/modules/web.dom-collections.for-each.js");
/* harmony import */ var core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/modules/web.timers.js */ "./node_modules/core-js/modules/web.timers.js");
/* harmony import */ var core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_modules_web_timers_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _styles_app_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./styles/app.scss */ "./assets/styles/app.scss");






/* VARIABLES */
// Manage theme
var body = document.querySelector("body");
var themeToggles = document.querySelectorAll(".theme-toggle");
var darkMode = window.matchMedia("(prefers-color-scheme:dark)");
// Nav btn color animation
var navBtn = document.querySelectorAll("nav .btn");
var homeBtn = document.querySelector(".home-btn");
var aboutBtn = document.querySelector(".about-btn");
var projectsBtn = document.querySelector(".projects-btn");
var contactBtn = document.querySelector(".contact-btn");
// Cursor animation
var homepage = document.querySelector(".homepage");
var cursorBox = body.appendChild(document.createElement("div"));
if (homepage !== null) {
  var cursorBlur = cursorBox.appendChild(document.createElement("div"));
  cursorBox.classList.add("cursor-box");
  cursorBlur.classList.add("cursor-blur");
}
// Audio btn
var allBtn = document.querySelectorAll(".sound");
// Onscroll fade-in animation
var fadeOutElements = document.querySelectorAll(".fade-out-element");
// Rows projects animation
var rows = document.querySelectorAll(".rows-container .row");
// Rows projects responsive animation
var rowsResponsive = document.querySelectorAll(".rows-container .row-responsive");
// Menu burger btn animation
var nav = document.querySelector("nav");
var menuBurgerBtn = document.querySelector(".menu-burger-btn");
var barsIcon = true;
// Responsive
var mediumScreen = window.matchMedia("(max-width: 1200px)");
var mediumSmallScreen = window.matchMedia("(max-width: 900px)");
var smallScreen = window.matchMedia("(max-width: 600px)");

/* FUNCTIONS */
// Manage theme
var manageTheme = function manageTheme(themeStyle) {
  body.dataset.theme = themeStyle;
  themeToggles.forEach(function (toggle) {
    themeStyle === "dark" ? toggle.classList.add("dark-position") : toggle.classList.remove("dark-position");
  });
};
// Header initialisation
var HeaderInitialisation = function HeaderInitialisation() {
  var loadingPage = document.querySelector(".loading-page");
  var navElements = document.querySelectorAll(".nav-element");
  if (mediumScreen.matches) {
    loadingPage === null || loadingPage === void 0 || loadingPage.classList.add("end-loading-animation-small-media");
    setTimeout(function () {
      body.classList.add("homepage-transition");
    }, 300);
    navElements.forEach(function (element) {
      element.classList.add("sliding-nav-item");
    });
  } else {
    loadingPage === null || loadingPage === void 0 || loadingPage.classList.add("end-loading-animation");
    var i = 0;
    setTimeout(function () {
      body.classList.add("homepage-transition");
      var interval = setInterval(function () {
        if (i < navElements.length) {
          navElements[i].classList.add("sliding-nav-item");
          i++;
        } else if (i === navElements.length) {
          clearInterval(interval);
        }
      }, 100);
    }, 400);
  }
};
// Audio btn
var sound = function sound(key) {
  var audio = new Audio();
  audio.src = "/sounds/" + key + ".mp3";
  audio.play();
};
// Nav btn color animation
var colorNavBtn = function colorNavBtn(entry) {
  if (entry.contains("header-content")) {
    navBtn.forEach(function (btn) {
      btn.classList.remove("btn-target-color");
    });
    homeBtn.classList.add("btn-target-color");
  } else if (entry.contains("about-content")) {
    navBtn.forEach(function (btn) {
      btn.classList.remove("btn-target-color");
    });
    aboutBtn.classList.add("btn-target-color");
  } else if (entry.contains("project")) {
    navBtn.forEach(function (btn) {
      btn.classList.remove("btn-target-color");
    });
    projectsBtn.classList.add("btn-target-color");
  } else if (entry.contains("contact-content")) {
    navBtn.forEach(function (btn) {
      btn.classList.remove("btn-target-color");
    });
    contactBtn.classList.add("btn-target-color");
  }
};
// Onscroll fade-in animation
var observer = new IntersectionObserver(function (entries) {
  entries.forEach(function (entry) {
    if (entry.isIntersecting) {
      colorNavBtn(entry.target.classList);
      entry.target.classList.add("fade-in-animation");
    }
  });
}, {
  threshold: 0.5
});
// Menu burger btn animation
var animMenuBurger = function animMenuBurger() {
  if (barsIcon) {
    menuBurgerBtn.classList.add("appear-xmark");
    barsIcon = false;
    nav.classList.add("appear-nav");
  } else {
    menuBurgerBtn.classList.remove("appear-xmark");
    barsIcon = true;
    nav.classList.remove("appear-nav");
  }
};

/* EVENTS */
// Manage theme (onload)
window.addEventListener("DOMContentLoaded", function () {
  darkMode.matches ? manageTheme("dark") : manageTheme("light");
});
// Header initialisation
window.addEventListener("load", function () {
  HeaderInitialisation();
  if (mediumScreen.matches) {
    setTimeout(function () {
      fadeOutElements.forEach(function (element) {
        return observer.observe(element);
      });
    }, 200);
  } else {
    setTimeout(function () {
      fadeOutElements.forEach(function (element) {
        return observer.observe(element);
      });
    }, 1300);
  }
});
// Manage theme (onchange & onclick)
darkMode.addEventListener("change", function (darkMode) {
  if (darkMode.matches && body.dataset.theme !== "dark") {
    manageTheme("dark");
  } else if (!darkMode.matches && body.dataset.theme === "dark") {
    manageTheme("light");
  }
});
themeToggles.forEach(function (toggle) {
  toggle.addEventListener("click", function () {
    body.dataset.theme !== "dark" ? manageTheme("dark") : manageTheme("light");
  });
});
// Cursor animation
window.addEventListener("mousemove", function (e) {
  cursorBox.style.top = e.clientY + "px";
  cursorBox.style.left = e.clientX + "px";
});
// Audio btn
allBtn.forEach(function (btn) {
  if (!mediumScreen.matches && !mediumSmallScreen.matches && !smallScreen.matches) {
    btn.addEventListener("mouseover", function () {
      sound("Hover");
    });
  }
  btn.addEventListener("click", function () {
    sound("Click");
  });
});
// Rows projects animation
rows.forEach(function (row) {
  row.addEventListener("mouseleave", function () {
    row.classList.contains("reverse-row-anim") || row.classList.add("reverse-row-anim");
  });
});
// Rows projects responsive animation
rowsResponsive.forEach(function (row) {
  row.addEventListener("click", function () {
    if (!row.classList.contains("open-animation")) {
      row.classList.remove("close-animation");
      row.classList.add("open-animation");
    } else {
      row.classList.add("close-animation");
      row.classList.remove("open-animation");
    }
  });
});
// Menu burger animation
if (menuBurgerBtn !== null) {
  menuBurgerBtn.addEventListener("click", function () {
    animMenuBurger();
  });
  navBtn.forEach(function (link) {
    link.addEventListener("click", function () {
      animMenuBurger();
    });
  });
}

/***/ }),

/***/ "./assets/styles/app.scss":
/*!********************************!*\
  !*** ./assets/styles/app.scss ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, ["vendors-node_modules_core-js_modules_es_array_for-each_js-node_modules_core-js_modules_es_obj-5fa493"], () => (__webpack_exec__("./assets/app.js")));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ }
]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vYXNzZXRzL2FwcC5qcyIsIndlYnBhY2s6Ly8vLi9hc3NldHMvc3R5bGVzL2FwcC5zY3NzPzhmNTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuL3N0eWxlcy9hcHAuc2Nzcyc7XHJcblxyXG4vKiBWQVJJQUJMRVMgKi9cclxuLy8gTWFuYWdlIHRoZW1lXHJcbmNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKTtcclxuY29uc3QgdGhlbWVUb2dnbGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi50aGVtZS10b2dnbGVcIik7XHJcbmNvbnN0IGRhcmtNb2RlID0gd2luZG93Lm1hdGNoTWVkaWEoXCIocHJlZmVycy1jb2xvci1zY2hlbWU6ZGFyaylcIik7XHJcbi8vIE5hdiBidG4gY29sb3IgYW5pbWF0aW9uXHJcbmNvbnN0IG5hdkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJuYXYgLmJ0blwiKTtcclxuY29uc3QgaG9tZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaG9tZS1idG5cIik7XHJcbmNvbnN0IGFib3V0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hYm91dC1idG5cIik7XHJcbmNvbnN0IHByb2plY3RzQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9qZWN0cy1idG5cIik7XHJcbmNvbnN0IGNvbnRhY3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRhY3QtYnRuXCIpO1xyXG4vLyBDdXJzb3IgYW5pbWF0aW9uXHJcbmNvbnN0IGhvbWVwYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ob21lcGFnZVwiKTtcclxuY29uc3QgY3Vyc29yQm94ID0gYm9keS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKTtcclxuaWYgKGhvbWVwYWdlICE9PSBudWxsKSB7XHJcbiAgICBjb25zdCBjdXJzb3JCbHVyID0gY3Vyc29yQm94LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO1xyXG4gICAgY3Vyc29yQm94LmNsYXNzTGlzdC5hZGQoXCJjdXJzb3ItYm94XCIpO1xyXG4gICAgY3Vyc29yQmx1ci5jbGFzc0xpc3QuYWRkKFwiY3Vyc29yLWJsdXJcIik7XHJcbn1cclxuLy8gQXVkaW8gYnRuXHJcbmNvbnN0IGFsbEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc291bmRcIik7XHJcbi8vIE9uc2Nyb2xsIGZhZGUtaW4gYW5pbWF0aW9uXHJcbmNvbnN0IGZhZGVPdXRFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZmFkZS1vdXQtZWxlbWVudFwiKTtcclxuLy8gUm93cyBwcm9qZWN0cyBhbmltYXRpb25cclxuY29uc3Qgcm93cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucm93cy1jb250YWluZXIgLnJvd1wiKTtcclxuLy8gUm93cyBwcm9qZWN0cyByZXNwb25zaXZlIGFuaW1hdGlvblxyXG5jb25zdCByb3dzUmVzcG9uc2l2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucm93cy1jb250YWluZXIgLnJvdy1yZXNwb25zaXZlXCIpO1xyXG4vLyBNZW51IGJ1cmdlciBidG4gYW5pbWF0aW9uXHJcbmNvbnN0IG5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJuYXZcIik7XHJcbmNvbnN0IG1lbnVCdXJnZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1lbnUtYnVyZ2VyLWJ0blwiKTtcclxubGV0IGJhcnNJY29uID0gdHJ1ZTtcclxuLy8gUmVzcG9uc2l2ZVxyXG5jb25zdCBtZWRpdW1TY3JlZW4gPSB3aW5kb3cubWF0Y2hNZWRpYShcIihtYXgtd2lkdGg6IDEyMDBweClcIik7XHJcbmNvbnN0IG1lZGl1bVNtYWxsU2NyZWVuID0gd2luZG93Lm1hdGNoTWVkaWEoXCIobWF4LXdpZHRoOiA5MDBweClcIik7XHJcbmNvbnN0IHNtYWxsU2NyZWVuID0gd2luZG93Lm1hdGNoTWVkaWEoXCIobWF4LXdpZHRoOiA2MDBweClcIik7XHJcblxyXG4vKiBGVU5DVElPTlMgKi9cclxuLy8gTWFuYWdlIHRoZW1lXHJcbmNvbnN0IG1hbmFnZVRoZW1lID0gKHRoZW1lU3R5bGUpID0+IHtcclxuICAgIGJvZHkuZGF0YXNldC50aGVtZSA9IHRoZW1lU3R5bGU7XHJcbiAgICB0aGVtZVRvZ2dsZXMuZm9yRWFjaCh0b2dnbGUgPT4ge1xyXG4gICAgICAgIHRoZW1lU3R5bGU9PT1cImRhcmtcIj90b2dnbGUuY2xhc3NMaXN0LmFkZChcImRhcmstcG9zaXRpb25cIik6dG9nZ2xlLmNsYXNzTGlzdC5yZW1vdmUoXCJkYXJrLXBvc2l0aW9uXCIpO1xyXG4gICAgfSk7XHJcbn07XHJcbi8vIEhlYWRlciBpbml0aWFsaXNhdGlvblxyXG5jb25zdCBIZWFkZXJJbml0aWFsaXNhdGlvbiA9ICgpID0+IHtcclxuICAgIGNvbnN0IGxvYWRpbmdQYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb2FkaW5nLXBhZ2VcIik7XHJcbiAgICBjb25zdCBuYXZFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmF2LWVsZW1lbnRcIik7XHJcbiAgICBpZiAobWVkaXVtU2NyZWVuLm1hdGNoZXMpIHtcclxuICAgICAgICBsb2FkaW5nUGFnZT8uY2xhc3NMaXN0LmFkZChcImVuZC1sb2FkaW5nLWFuaW1hdGlvbi1zbWFsbC1tZWRpYVwiKTtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgXHJcbiAgICAgICAgICAgIGJvZHkuY2xhc3NMaXN0LmFkZChcImhvbWVwYWdlLXRyYW5zaXRpb25cIik7XHJcbiAgICAgICAgfSwgMzAwKTtcclxuICAgICAgICBuYXZFbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4geyBlbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJzbGlkaW5nLW5hdi1pdGVtXCIpOyB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbG9hZGluZ1BhZ2U/LmNsYXNzTGlzdC5hZGQoXCJlbmQtbG9hZGluZy1hbmltYXRpb25cIik7XHJcbiAgICAgICAgbGV0IGkgPSAwO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyBcclxuICAgICAgICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKFwiaG9tZXBhZ2UtdHJhbnNpdGlvblwiKTtcclxuICAgICAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA8IG5hdkVsZW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5hdkVsZW1lbnRzW2ldLmNsYXNzTGlzdC5hZGQoXCJzbGlkaW5nLW5hdi1pdGVtXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA9PT0gbmF2RWxlbWVudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XHJcbiAgICAgICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgIH0sIDQwMCk7XHJcbiAgICB9XHJcbn07XHJcbi8vIEF1ZGlvIGJ0blxyXG5jb25zdCBzb3VuZCA9IChrZXkpID0+IHtcclxuICAgIGNvbnN0IGF1ZGlvID0gbmV3IEF1ZGlvKCk7XHJcbiAgICBhdWRpby5zcmMgPSBcIi9zb3VuZHMvXCIgKyBrZXkgKyBcIi5tcDNcIjtcclxuICAgIGF1ZGlvLnBsYXkoKTtcclxufTtcclxuLy8gTmF2IGJ0biBjb2xvciBhbmltYXRpb25cclxuY29uc3QgY29sb3JOYXZCdG4gPSAoZW50cnkpID0+IHtcclxuICAgIGlmIChlbnRyeS5jb250YWlucyhcImhlYWRlci1jb250ZW50XCIpKSB7XHJcbiAgICAgICAgbmF2QnRuLmZvckVhY2goYnRuID0+IHsgYnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJidG4tdGFyZ2V0LWNvbG9yXCIpOyB9KTtcclxuICAgICAgICBob21lQnRuLmNsYXNzTGlzdC5hZGQoXCJidG4tdGFyZ2V0LWNvbG9yXCIpO1xyXG4gICAgfSBlbHNlIGlmIChlbnRyeS5jb250YWlucyhcImFib3V0LWNvbnRlbnRcIikpIHtcclxuICAgICAgICBuYXZCdG4uZm9yRWFjaChidG4gPT4geyBidG4uY2xhc3NMaXN0LnJlbW92ZShcImJ0bi10YXJnZXQtY29sb3JcIik7IH0pO1xyXG4gICAgICAgIGFib3V0QnRuLmNsYXNzTGlzdC5hZGQoXCJidG4tdGFyZ2V0LWNvbG9yXCIpO1xyXG4gICAgfSBlbHNlIGlmIChlbnRyeS5jb250YWlucyhcInByb2plY3RcIikpIHtcclxuICAgICAgICBuYXZCdG4uZm9yRWFjaChidG4gPT4geyBidG4uY2xhc3NMaXN0LnJlbW92ZShcImJ0bi10YXJnZXQtY29sb3JcIik7IH0pO1xyXG4gICAgICAgIHByb2plY3RzQnRuLmNsYXNzTGlzdC5hZGQoXCJidG4tdGFyZ2V0LWNvbG9yXCIpO1xyXG4gICAgfSBlbHNlIGlmIChlbnRyeS5jb250YWlucyhcImNvbnRhY3QtY29udGVudFwiKSkge1xyXG4gICAgICAgIG5hdkJ0bi5mb3JFYWNoKGJ0biA9PiB7IGJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiYnRuLXRhcmdldC1jb2xvclwiKTsgfSk7XHJcbiAgICAgICAgY29udGFjdEJ0bi5jbGFzc0xpc3QuYWRkKFwiYnRuLXRhcmdldC1jb2xvclwiKTtcclxuICAgIH1cclxufTtcclxuLy8gT25zY3JvbGwgZmFkZS1pbiBhbmltYXRpb25cclxuY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcclxuICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcclxuICAgICAgICBpZihlbnRyeS5pc0ludGVyc2VjdGluZykge1xyXG4gICAgICAgICAgICBjb2xvck5hdkJ0bihlbnRyeS50YXJnZXQuY2xhc3NMaXN0KTtcclxuICAgICAgICAgICAgZW50cnkudGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJmYWRlLWluLWFuaW1hdGlvblwiKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSwge3RocmVzaG9sZDogMC41fSk7XHJcbi8vIE1lbnUgYnVyZ2VyIGJ0biBhbmltYXRpb25cclxuY29uc3QgYW5pbU1lbnVCdXJnZXIgPSAoKSA9PiB7XHJcbiAgICBpZiAoYmFyc0ljb24pIHtcclxuICAgICAgICBtZW51QnVyZ2VyQnRuLmNsYXNzTGlzdC5hZGQoXCJhcHBlYXIteG1hcmtcIik7XHJcbiAgICAgICAgYmFyc0ljb24gPSBmYWxzZTtcclxuICAgICAgICBuYXYuY2xhc3NMaXN0LmFkZChcImFwcGVhci1uYXZcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIG1lbnVCdXJnZXJCdG4uY2xhc3NMaXN0LnJlbW92ZShcImFwcGVhci14bWFya1wiKTtcclxuICAgICAgICBiYXJzSWNvbiA9IHRydWU7XHJcbiAgICAgICAgbmF2LmNsYXNzTGlzdC5yZW1vdmUoXCJhcHBlYXItbmF2XCIpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLyogRVZFTlRTICovXHJcbi8vIE1hbmFnZSB0aGVtZSAob25sb2FkKVxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCkgPT4ge1xyXG4gICAgZGFya01vZGUubWF0Y2hlcz9tYW5hZ2VUaGVtZShcImRhcmtcIik6bWFuYWdlVGhlbWUoXCJsaWdodFwiKTtcclxufSk7XHJcbi8vIEhlYWRlciBpbml0aWFsaXNhdGlvblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKCkgPT4ge1xyXG4gICAgSGVhZGVySW5pdGlhbGlzYXRpb24oKTtcclxuICAgIGlmIChtZWRpdW1TY3JlZW4ubWF0Y2hlcykge1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBmYWRlT3V0RWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IG9ic2VydmVyLm9ic2VydmUoZWxlbWVudCkpO1xyXG4gICAgICAgIH0sIDIwMCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBmYWRlT3V0RWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IG9ic2VydmVyLm9ic2VydmUoZWxlbWVudCkpO1xyXG4gICAgICAgIH0sIDEzMDApO1xyXG4gICAgfVxyXG59KTtcclxuLy8gTWFuYWdlIHRoZW1lIChvbmNoYW5nZSAmIG9uY2xpY2spXHJcbmRhcmtNb2RlLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKGRhcmtNb2RlKSA9PiB7XHJcbiAgICBpZiAoZGFya01vZGUubWF0Y2hlcyAmJiBib2R5LmRhdGFzZXQudGhlbWUgIT09IFwiZGFya1wiKSB7XHJcbiAgICAgICAgbWFuYWdlVGhlbWUoXCJkYXJrXCIpO1xyXG4gICAgfSBlbHNlIGlmICghZGFya01vZGUubWF0Y2hlcyAmJiBib2R5LmRhdGFzZXQudGhlbWUgPT09IFwiZGFya1wiKSB7XHJcbiAgICAgICAgbWFuYWdlVGhlbWUoXCJsaWdodFwiKTtcclxuICAgIH1cclxufSk7XHJcbnRoZW1lVG9nZ2xlcy5mb3JFYWNoKHRvZ2dsZSA9PiB7XHJcbiAgICB0b2dnbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICBib2R5LmRhdGFzZXQudGhlbWUhPT1cImRhcmtcIj9tYW5hZ2VUaGVtZShcImRhcmtcIik6bWFuYWdlVGhlbWUoXCJsaWdodFwiKTtcclxuICAgIH0pO1xyXG59KTtcclxuLy8gQ3Vyc29yIGFuaW1hdGlvblxyXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCAoZSkgPT4ge1xyXG4gICAgY3Vyc29yQm94LnN0eWxlLnRvcCA9IGUuY2xpZW50WSArIFwicHhcIjtcclxuICAgIGN1cnNvckJveC5zdHlsZS5sZWZ0ID0gZS5jbGllbnRYICsgXCJweFwiO1xyXG59KTtcclxuLy8gQXVkaW8gYnRuXHJcbmFsbEJ0bi5mb3JFYWNoKGJ0biA9PiB7XHJcbiAgICBpZiAoIW1lZGl1bVNjcmVlbi5tYXRjaGVzICYmICFtZWRpdW1TbWFsbFNjcmVlbi5tYXRjaGVzICYmICFzbWFsbFNjcmVlbi5tYXRjaGVzKSB7XHJcbiAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgKCkgPT4geyBzb3VuZChcIkhvdmVyXCIpOyB9KTtcclxuICAgIH1cclxuICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4geyBzb3VuZChcIkNsaWNrXCIpOyB9KTtcclxufSk7XHJcbi8vIFJvd3MgcHJvamVjdHMgYW5pbWF0aW9uXHJcbnJvd3MuZm9yRWFjaChyb3cgPT4ge1xyXG4gICAgcm93LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsICgpID0+IHtcclxuICAgICAgICByb3cuY2xhc3NMaXN0LmNvbnRhaW5zKFwicmV2ZXJzZS1yb3ctYW5pbVwiKXx8cm93LmNsYXNzTGlzdC5hZGQoXCJyZXZlcnNlLXJvdy1hbmltXCIpO1xyXG4gICAgfSk7XHJcbn0pO1xyXG4vLyBSb3dzIHByb2plY3RzIHJlc3BvbnNpdmUgYW5pbWF0aW9uXHJcbnJvd3NSZXNwb25zaXZlLmZvckVhY2gocm93ID0+IHtcclxuICAgIHJvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIGlmICghcm93LmNsYXNzTGlzdC5jb250YWlucyhcIm9wZW4tYW5pbWF0aW9uXCIpKSB7XHJcbiAgICAgICAgICAgIHJvdy5jbGFzc0xpc3QucmVtb3ZlKFwiY2xvc2UtYW5pbWF0aW9uXCIpO1xyXG4gICAgICAgICAgICByb3cuY2xhc3NMaXN0LmFkZChcIm9wZW4tYW5pbWF0aW9uXCIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJvdy5jbGFzc0xpc3QuYWRkKFwiY2xvc2UtYW5pbWF0aW9uXCIpO1xyXG4gICAgICAgICAgICByb3cuY2xhc3NMaXN0LnJlbW92ZShcIm9wZW4tYW5pbWF0aW9uXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59KTtcclxuLy8gTWVudSBidXJnZXIgYW5pbWF0aW9uXHJcbmlmIChtZW51QnVyZ2VyQnRuICE9PSBudWxsKSB7XHJcbiAgICBtZW51QnVyZ2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7IGFuaW1NZW51QnVyZ2VyKCk7IH0pO1xyXG4gICAgbmF2QnRuLmZvckVhY2gobGluayA9PiB7IGxpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHsgYW5pbU1lbnVCdXJnZXIoKTsgfSk7IH0pO1xyXG59IiwiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luXG5leHBvcnQge307Il0sIm5hbWVzIjpbImJvZHkiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ0aGVtZVRvZ2dsZXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZGFya01vZGUiLCJ3aW5kb3ciLCJtYXRjaE1lZGlhIiwibmF2QnRuIiwiaG9tZUJ0biIsImFib3V0QnRuIiwicHJvamVjdHNCdG4iLCJjb250YWN0QnRuIiwiaG9tZXBhZ2UiLCJjdXJzb3JCb3giLCJhcHBlbmRDaGlsZCIsImNyZWF0ZUVsZW1lbnQiLCJjdXJzb3JCbHVyIiwiY2xhc3NMaXN0IiwiYWRkIiwiYWxsQnRuIiwiZmFkZU91dEVsZW1lbnRzIiwicm93cyIsInJvd3NSZXNwb25zaXZlIiwibmF2IiwibWVudUJ1cmdlckJ0biIsImJhcnNJY29uIiwibWVkaXVtU2NyZWVuIiwibWVkaXVtU21hbGxTY3JlZW4iLCJzbWFsbFNjcmVlbiIsIm1hbmFnZVRoZW1lIiwidGhlbWVTdHlsZSIsImRhdGFzZXQiLCJ0aGVtZSIsImZvckVhY2giLCJ0b2dnbGUiLCJyZW1vdmUiLCJIZWFkZXJJbml0aWFsaXNhdGlvbiIsImxvYWRpbmdQYWdlIiwibmF2RWxlbWVudHMiLCJtYXRjaGVzIiwic2V0VGltZW91dCIsImVsZW1lbnQiLCJpIiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImxlbmd0aCIsImNsZWFySW50ZXJ2YWwiLCJzb3VuZCIsImtleSIsImF1ZGlvIiwiQXVkaW8iLCJzcmMiLCJwbGF5IiwiY29sb3JOYXZCdG4iLCJlbnRyeSIsImNvbnRhaW5zIiwiYnRuIiwib2JzZXJ2ZXIiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsImVudHJpZXMiLCJpc0ludGVyc2VjdGluZyIsInRhcmdldCIsInRocmVzaG9sZCIsImFuaW1NZW51QnVyZ2VyIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9ic2VydmUiLCJlIiwic3R5bGUiLCJ0b3AiLCJjbGllbnRZIiwibGVmdCIsImNsaWVudFgiLCJyb3ciLCJsaW5rIl0sInNvdXJjZVJvb3QiOiIifQ==